{% extends "layout.html" %}

{% block title %}
Search Results
{% endblock %}

{% block main %}
{% if Products|length < 1 %} <h1>No Results Found</h1>
    {% else %}

    <h1>Search Results</h1>
    <form class="d-flex" method="POST" action="{{ url_for('search') }}" style="padding-right: 20px;">
        <div class="form-group">
            <div class="input-group">
                <span class="input-group-addon" style="padding-right:20px; padding-top: 10px;">Sort By</span>
                <select name="sortby" aria-labelledby="dropdownMenuButton">
                    <option value="Name(A-Z)">Name(A-Z)</option>
                    <option value="Name(Z-A)">Name(Z-A)</option>
                    <option value="Price(Low-High)">Price(Low-High)</option>
                    <option value="Price(High-Low)">Price(High-Low)</option>
                    <option value="Rating (5-1)">Rating (5-1)</option>
                    <option value="Rating (1-5)">Rating (1-5)</option>
                    <option value="Date (new first)">Date (new first)</option>
                    <option value="Date (old first)">Date (old first)</option>
                </select>
                <div style="padding-left: 20px;">
                    <button type="submit" class="btn btn-secondary">Search</button>
                </div>
            </div>
        </div>
    </form>
    <table class="table table-striped">
        <thead>
            <tr>
                <th> Product ID </th>
                <th> Product Name</th>
                <th> Product Description </th>
                <th> Price </th>
                <th> Quantity </th>
                <th> In Stock </th>
                <th> Rating </th>
                <th> Image</th>
                <th> Supplier ID </th>
                <th> Category ID </th>
            </tr>
        </thead>
        {% for prod in Products %}
        <tr>
            <td>{{prod.ProductID}}</td>
            <td>{{prod.ProductName}}</td>
            <td>{{prod.ProductDescription}}</td>
            <td>{{prod.Price}}</td>
            <td>{{prod.Quantity}}</td>
            <td>{{prod.InStock}}</td>
            <td>{{prod.Rating}}</td>
            <td><img src="{{prod.ImageURL}}"></td>
            <td>{{prod.SupplierID}}</td>
            <td>{{prod.CategoryID}}</td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
    {% endblock %}